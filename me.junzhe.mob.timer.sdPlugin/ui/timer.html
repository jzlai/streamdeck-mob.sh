<!DOCTYPE html>
<html>

<head lang="en">
    <title>Timer Settings</title>
    <meta charset="utf-8" />
    <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
    <script>
        const { streamDeckClient } = SDPIComponents;
        streamDeckClient.didReceiveSettings.subscribe(event => {
            const { settings } = event.payload
            streamDeckClient.setSettings({
                host: settings.host ?? 'https://timer.mob.sh',
                room: settings.room ?? 'guenther',
                name: settings.name ?? 'unknown',
                timer: settings.timer ?? 10,
            });
        })
    </script>
</head>

<body>
    <!--
        Learn more about property inspector components at https://sdpi-components.dev/docs/components
    -->
    <sdpi-item label="Host">
        <sdpi-textfield
            setting="host"
            placeholer="https://timer.mob.sh"
            required>
     </sdpi-textfield>
    </sdpi-item>
    <sdpi-item label="Room">
        <sdpi-textfield
            setting="room"
            placeholer="guenther"
            required>
     </sdpi-textfield>
    </sdpi-item>
    <sdpi-item label="Name">
        <sdpi-textfield
            setting="name"
            required>
     </sdpi-textfield>
    </sdpi-item>
    <sdpi-item label="Duration in minutes">
        <sdpi-textfield
            setting="timer"
            pattern="^[0-9]+$"
            required>
     </sdpi-textfield>
    </sdpi-item>
</body>

</html>